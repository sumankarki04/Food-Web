var selectNodes=function(e,t,n){n=n||e;for(var o=(new XPathEvaluator).evaluate(t,n,e.createNSResolver(e.documentElement),XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=new Array(o.snapshotLength),s=0;s<o.snapshotLength;s++)r[s]=o.snapshotItem(s);return r},selectSingleNode=function(e,t,n){var o=selectNodes(e,t+="[1]",n);if(0!=o.length)for(var r=0;r<o.length;r++)if(o[r])return o[r];return null};function _loadSafariCompat(e){Node.prototype.__defineGetter__("text",(function(){return this.textContent})),Node.prototype.__defineSetter__("text",(function(e){this.textContent=e})),Node.prototype.selectNodes=function(e){var t=this.ownerDocument;return selectNodes(t,e,this)},Node.prototype.selectSingleNode=function(e){var t=this.ownerDocument;return selectSingleNode(t,e,this)},Document.prototype.selectNodes=function(e){return selectNodes(this,e,this.documentElement)},Document.prototype.selectSingleNode=function(e){return selectSingleNode(this,e,this.documentElement)}}_loadSafariCompat(window);